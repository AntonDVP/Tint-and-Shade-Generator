<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Color System Generator</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Roboto', sans-serif; margin: 0; }
        h1 {font-size: 1.25rem; font-weight: 500;}
        label {font-size: 0.85rem; font-weight: 500;}
        .color-swatch { width: 240px; display: flex; align-items: center; justify-content: center; border-radius: 0; margin: 0; padding: 1rem; box-sizing: border-box; }
        .color-info { font-size: 1rem; font-weight: bold; text-align: center; }
        .main-container { display: flex; height: 100vh; overflow: hidden; }
        .sidebar { width: 250px; padding: 20px; background: #f7f7f7; border-right: 1px solid #e5e5e5; flex-shrink: 0; display: flex; flex-direction: column; justify-content: flex-start; height: 100vh; position: fixed; }
        .content { flex-grow: 1; padding: 20px; display: flex; justify-content: flex-start; align-items: flex-start; overflow-y: auto; margin-left: 250px; }
        .color-column { display: flex; flex-direction: column; align-items: center; }
        .highlight { }
        .color-stack { display: flex; flex-direction: column; align-items: center; }
        .main-color { display: flex; align-items: center; justify-content: center; }
        .wcag-info { font-size: 1rem; font-weight: 300;}
        .wcag-values { font-size: 0.85rem; font-weight: 400; }
        .color-container { display: flex; justify-content: center; align-items: stretch; gap: 0; }
        .codename { font-size: 1.25rem; font-weight: 400;}
        .displayValue {padding: 6px 12px; background-color: #FFFFFF; border: 1px solid #E5E7EB; border-radius: 4px;}
        .rounded {border-radius: 4px;}
        #hexColor {text-transform: uppercase;}
    </style>
</head>
<body>
    <div class="main-container">
        <div class="sidebar">
            <div class="sidebar-content">
                <h1 class="heading mb-6">Settings</h1>
                <div class="">
                    <label class="block mb-1">Color Picker</label>
                    <input type="color" id="baseColor" class="w-full h-12 rounded mb-6">
                    <label class="block mb-1">HEX Color</label>
                    <input type="text" id="hexColor" placeholder="#000000" class="p-2 border rounded w-full mb-6">
                </div>
                <div class="mb-8">
                    <label class="block mb-2"># of Tints and Shades:</label>
                    <input type="range" id="rangeInput" min="2" max="20" step="2" value="12" class="w-full mb-4">
                    <span class="displayValue" id="rangeValue">12</span>
                </div>
                <button id="generateBtn" class="w-full px-4 py-2 bg-blue-500 text-white rounded">Generate</button>
            </div>
        </div>
        <div class="content">
            <div class="color-container">
                <div class="color-column color-stack" id="tintsColumn"></div>
                <div class="color-column main-color highlight" id="mainColorColumn"></div>
                <div class="color-column color-stack" id="shadesColumn"></div>
            </div>
        </div>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tinycolor/1.4.2/tinycolor.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const baseColorInput = document.getElementById('baseColor');
            const hexColorInput = document.getElementById('hexColor');
            const rangeInput = document.getElementById('rangeInput');
            const rangeValue = document.getElementById('rangeValue');
            const generateBtn = document.getElementById('generateBtn');
            const tintsColumn = document.getElementById('tintsColumn');
            const mainColorColumn = document.getElementById('mainColorColumn');
            const shadesColumn = document.getElementById('shadesColumn');

            baseColorInput.addEventListener('input', (e) => {
                hexColorInput.value = e.target.value;
            });

            hexColorInput.addEventListener('input', (e) => {
                baseColorInput.value = e.target.value;
            });

            rangeInput.addEventListener('input', (e) => {
                rangeValue.textContent = e.target.value;
            });

            generateBtn.addEventListener('click', () => {
                const baseColor = tinycolor(hexColorInput.value);
                const numSteps = parseInt(rangeInput.value, 10);
                const halfSteps = Math.floor(numSteps / 2);
                tintsColumn.innerHTML = '';
                mainColorColumn.innerHTML = '';
                shadesColumn.innerHTML = '';

                const tints = [];
                const shades = [];

                // Generate tints
                for (let i = halfSteps; i > 0; i--) {
                    const tintFactor = i / (halfSteps + 1);
                    const tint = tinycolor.mix(baseColor, '#ffffff', tintFactor * 100).toHexString();
                    tints.push({ color: tint, label: `${(halfSteps - i + 1) * 100}` });
                }

                // Main color
                const mainColor = { color: baseColor.toHexString(), label: `${(halfSteps + 1) * 100}` };

                // Generate shades
                for (let i = 1; i <= halfSteps; i++) {
                    const shadeFactor = i / (halfSteps + 1);
                    const shade = tinycolor.mix(baseColor, '#000000', shadeFactor * 100).toHexString();
                    shades.push({ color: shade, label: `${(halfSteps + 1 + i) * 100}` });
                }

                tints.forEach(({ color, label }) => {
                    tintsColumn.appendChild(createColorSwatch(color, label));
                });

                const mainSwatch = createColorSwatch(mainColor.color, mainColor.label);
                mainSwatch.classList.add('highlight');
                mainColorColumn.appendChild(mainSwatch);

                shades.forEach(({ color, label }) => {
                    shadesColumn.appendChild(createColorSwatch(color, label));
                });

                // Adjust the height of main color to match tints and shades columns
                const totalHeight = Math.max(tintsColumn.scrollHeight, shadesColumn.scrollHeight);
                mainSwatch.style.height = `${totalHeight}px`;
            });

            function createColorSwatch(color, label) {
                const swatch = document.createElement('div');
                swatch.className = 'color-swatch';
                swatch.style.backgroundColor = color;

                const info = document.createElement('div');
                info.className = 'color-info';
                info.style.color = tinycolor.mostReadable(color, ['#000', '#fff']).toHexString();
                info.innerHTML = `<span class="codename">${label}</span><br>HEX: ${color.toUpperCase()}`;

                const wcagInfo = document.createElement('div');
                wcagInfo.className = 'wcag-info wcag-values';
                const contrastWhite = tinycolor.readability(color, '#fff');
                const contrastBlack = tinycolor.readability(color, '#000');
                wcagInfo.innerHTML = `On White: ${contrastWhite.toFixed(2)} (${getContrastLevel(contrastWhite)})<br>On Black: ${contrastBlack.toFixed(2)} (${getContrastLevel(contrastBlack)})`;

                info.appendChild(wcagInfo);
                swatch.appendChild(info);
                return swatch;
            }

            function getContrastLevel(contrast) {
                if (contrast >= 7) return 'AAA';
                if (contrast >= 4.5) return 'AA';
                if (contrast >= 3) return 'AA Large';
                return 'Fail';
            }
        });
    </script>
</body>
</html>
